function get_tableSearch(){let markup;return'\n<h3>Issue. Table Search.</h3>\n<p>Add table phrase search with filtering by columns.</p>\n<h5>1. Add search input and filter icon to table header second row as on Fig.1</h5>\n<h5>Fig.1</h5>        \n<img src="\\assets\\picsDoc\\doc_TableSearchInput.jpg" alt="Table Search Input active"\nclass="img-small-responsive" width="600" height="400">\n<h5>When mouse marker enter search input, the search input should be as on Fig.2</h5>\n<h5>Fig.2</h5>        \n<img src="\\assets\\picsDoc\\doc_TableSearchInputActive.jpg" alt="Table Search Input and filter icon"\nclass="img-small-responsive" width="600" height="400">\n<h5>Do search if user click key Enter and search input is not empty or\nclick on looking glass icon.</h5>\n<h5>2. After phrase search we should get rows which contain the phrase in selected columns.\nThe way of columns selection see in Issue:  </h5>\n<br>\n\n<h4>Code.</p>\n<h5><strong>Keywords: </strong></h5>\n<h5>1. Add search input and filter icon to table header second row using fluent API.</h5>\n<p>Search input, filter icon and others icons are added to table with using fluent API.\nWe define table second row cell as th class. The elements in cell such as icons, inputs and containers\nalso defined as classes. We add these elements to row cell with th class methods.\nJavaScript code will look like below, where addIcon, addInput, addIconContainerWithIcon,\ntoHtml are the class methods.</p>\n<fieldset>\n<legend>JavaScript</legend>\n<div class="legend2">table.js</div>\n<pre><code class="language-javascript">\ngetInnerHtmlForHeaderSecondRowCell(){\n    // prepare icon onClick functions\t\t\n\tlet onClickAddContact = `(function(){\n\t\tformAddContact.setFormAddContactHeader(\'#form-header\',\n\t\t \'New&nbsp;&nbsp;Contact&nbsp;&nbsp;Form\', \'form-add-contact\', \'.addRowIcon\');\t\t\t\t\t\t\n\t\t})()`;\n\tlet onClickEditContact = `(function(){\n\t\tformAddContact.setFormAddContactHeader(\'#form-header\',\n\t\t\'Edit&nbsp;&nbsp;Contact&nbsp;&nbsp;Form\', \'form-edit-contact\', \'.updateRowIcon\');\t\t\t\t\t\t\n\t\t})()`;\n\tlet onClickDeleteContact = `(function(){\n\t\ttable.deleteSelectedRow();\t\t\t\t\t\t\n\t\t})()`;\n\tlet onKeyEnterSearch = `(function(){\t\t\n\t\t\tif (event.keyCode == 13) {\t\t\t\t\n\t\t\t  table.filterTable();\n\t\t\t}\t\t\t\t\t\t\n\t\t})(event)`;\n\tlet onClickSearch = `(function(){\n\t\t\ttable.filterTable();\t\t\t\t\t\t\t\t\t\n        })()`; \n\n    // combine the second row cell innerHTML\n    let innerHtml = (new th(\'table-tr2-head-cell\', \'div\', \'icon-flex-container\'))\t\t\t\n\t\t\t.iconContainer("span", \'addRowIconContainer tooltip fade\', "data-tooltip",\n\t\t\t               "Add new contact", onClickAddContact)\n\t\t\t.addIcon("addRowIcon fa fa-plus add-row")\t\n\t\t\t.iconContainer("span", \'updateRowIconContainer tooltip fade\',\n\t\t\t               "data-tooltip", "Edit selected contact", onClickEditContact)\n\t\t\t.addIcon("updateRowIcon fa fa-pencil edit-row")\t\t\t\t\t\n\t\t\t.iconContainer("span", \'deleteRowIconContainer tooltip fade\',\n\t\t\t               "data-tooltip", "Delete selected contact", onClickDeleteContact)\n\t\t\t.addIcon("deleteRowIcon fa fa-trash-o delete-row")\n\t\t\t.inputContainer(\'span\', \'input-searchTable\', onKeyEnterSearch)\n\t\t\t.addInput(\'text\', \'Searching ...\', \'input-search\')\n\t\t\t.addIconContainerWithIcon("span", \'tooltipSearch tooltip fade\',\n\t\t\t                "data-tooltip", "Search table", \'fa fa-search\', onClickSearch)\t\t\t\t\t\t\n            .toHtml();\n\n    return innerHtml;\n}\t\n</code></pre></fieldset>\n<p> So innerHTML of table second row cell contains icon "fa-plus" with container,\nicon "fa-pencil" with container, icon "fa-trash-o" with container,\ninput \'Searching ...\' with container, icon "fa-search" with container. We indicate \nelement tags, css classes and onclick functions as parameters of these chaning methods.\nResult we can see on next image.</p>\n<img src="\\assets\\picsDoc\\doc_tableHeader2ndRow.jpg" alt="Table Header 2nd Row"\nclass="img-responsive" width="600" height="400">\n\n<p>Let\'s take a closer look at how the innerHTML of second row is formed.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\nlet innerHtml = (new th(\'table-tr2-head-cell\', \'div\', \'icon-flex-container\'))\n</code></pre></fieldset>\n<p>Here the "th" is new th class. Class th has constructor and \n\'table-tr2-head-cell\', \'div\', \'icon-flex-container\' are values of\nconstructor parameters. In constructor we also provided variables to store css classes, \nicon containers, and input containers.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\nclass th {\n    constructor(cellClases, containerType, containerClasses) {\n        this.cellClases = cellClases;\n        this.containerType = containerType;\n        this.containerClasses = containerClasses;             \n        this.iconContainers = [];        \n        this.inputContainers = [];\n    } \n    // ...\n}\n</code></pre></fieldset>\n<p>So, we defined the header row cell as container with type \'div\'.\nThe container css class is \'icon-flex-container\' and cell css class is \n\'table-tr2-head-cell\'. ( We remember that header second row has only one cell)</p>\n\n<p>In next code line we start chaining.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\n.iconContainer("span", `addRowIconContainer tooltip fade`, "data-tooltip",\n\t\t\t               "Add new contact", onClickAddContact)\n</code></pre></fieldset>\n\n<p> iconContainer() is th class method with parameters. In this method we create new \nicon container (type of container is method paremeter (for example \'div\')) and add this\nicon container to icon container array. Method has another paremeters also.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\nclass th {\n    // ...\n    iconContainer(iconContainerType, iconContainerClasses, dataAttrib, tooltipText, onClick) { \n        const iconContainer = new IconContainer(iconContainerType, iconContainerClasses, dataAttrib, tooltipText, onClick);\n        this.iconContainers.push(iconContainer); \n        this.lastIconContainer = iconContainer;       \n        return this;\n    }\n}\n</code></pre></fieldset>\n\n<p>In next code line we add icon to the icon container.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\n.addIcon("addRowIcon fa fa-plus add-row")\n</code></pre></fieldset>\n\n<p>The addIcon() method has one parameter - the icon css clases.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\nclass th {\n    // ...\n    addIcon(iconClasses) {\n        this.lastIconContainer.addIcon(iconClasses);        \n        return this;\n    }\n}\n</code></pre></fieldset>\n\n<p>We can notice, that chaning is possible because every th class method\nreturn \'this\', which is referring to class object itself.</p>\n<p>In such way we can add arbitrary number elements to container.\nWe can also create whole library of elements (not only icon and input) and combine them by \nchaining methods.</p>\n<p>Last method transform method results to html code.</p>\n<fieldset><legend>JavaScript</legend>\n<pre><code class="language-javascript">\n.toHtml();\n</code></pre></fieldset>\n<fieldset>\n\t<legend>JavaScript</legend>\n\t<script type="text/plain" class="language-markup">\t\t\t\t\n    toHtml() {\n        return <th class = \'${this.cellClases}\'>\n            <${this.containerType} class = "${this.containerClasses}">\n                ${this.iconContainers.map(ic => ic.toHtml()).join(\'\')}  \n                ${this.inputContainers.map(ip => ip.toHtml()).join(\'\')}\n            <$/{this.containerType}>                     \n        </th>;\n    }\n\t<\/script>\t\n</fieldset>\n\n<p>CSS part of code.</p>\n<fieldset>\n<legend>CSS</legend>\n<div class="legend2">input_SearchTable.css</div>\n<pre><code class="language-css">\n.input-searchTable{  \n    width: 45%;\n    max-width: 20rem;\n}\n.input-searchTable .input-search {\n    font-family: FontAwesome !important;  \n    min-width: 120px;\n    min-height: 24px;  \n    font-size: 1.1rem;\n    margin: 0 0;\n    padding: 2px 0 2px 24px;\n    width: 100%;\n    background: #ecf0f1;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n}\n.input-searchTable input[type="text"]::placeholder {   \n    text-align: left;\n    opacity: 0.5;  \n} \n.input-searchTable:hover input[type="text"]::placeholder {\n      opacity: 0; \n}\n.input-searchTable input:hover {\n      border: 1px solid transparent;\n      box-shadow: 0 0 6px 0 #095484;\n      color: #095484;\n      background-color: #F7F7F7;    \n}  \n</code></pre></fieldset>\n\n<p>To start search, we added the onKeyEnterSearch event handler to search input element.\nThis handler execute when the key Enter on keyboard is clicked. If the input phrase in not \nempty, we fulfill table search.</p>\n<fieldset>\n<legend>JavaScript</legend>\n<div class="legend2">table.js</div>\n<pre><code class="language-javascript">\ngetInnerHtmlForHeaderSecondRowCell(){\n    // prepare icon onClick functions\n    // ...\n\tlet onKeyEnterSearch = `(function(){\t\t\n\t\t\tif (event.keyCode == 13) {\t\t\t\t\n\t\t\t  table.filterTable();\n\t\t\t}\t\t\t\t\t\t\n\t\t})(event)`;\n    // ...\n    let innerHtml = (new th(\'table-tr2-head-cell\', \'div\', \'icon-flex-container\'))\t\t\t\n            // ...\n\t\t\t.inputContainer(\'span\', \'input-searchTable\', onKeyEnterSearch)\n\t\t\t// ...\n}\t\n</code></pre></fieldset>\n\n<p>The onKeyEnterSearch handler call the filterTable() method from table class.</p>\n<fieldset>\n<legend>JavaScript</legend>\n<div class="legend2">table.js</div>\n<pre><code class="language-javascript">\nfilterTable(){\n    let input = document.querySelector(".input-search");\n    let inputString = input.value;                 \n    \n    table.removeHighlightfromTextInTable();\n    \n    if (input.value) {\n        let filter = inputString.trim();\n        if (inputString.trim().length > 0) { \n            table.filterTableAndHighliteMatchingText(filter);\n        }\n    } \n}\t\n</code></pre></fieldset>\n\n<h5>2. Code of table search - method filterTableAndHighliteMatchingText(filter).</h5>\n<fieldset>\n<legend>JavaScript</legend>\n<div class="legend2">table.js</div>\n<pre><code class="language-javascript">\nfilterTableAndHighliteMatchingText(filterString) {\n    let rowList, i;        \n    rowList = table.table.getElementsByTagName("tr");    \n    // get checked columns\n    let checkedColumns = [];\n    table.tableHeaderContext.cellContexts.forEach(cellContext => {\n        cellContext.cssClassList.includes("checked") ? checkedColumns.push("checked") : checkedColumns.push(" ");\n    }); \n    for (i = 2; i < rowList.length; i++) {\n\n        let cellList = rowList[i].getElementsByTagName("td");\n        let isHighlightedData = "false";\n        \n        for (let j = 0; j < cellList.length; j++) {\n\n            let cell = cellList[j];\n\n            if (cell) {\n                // search in checked columns only \n                if (checkedColumns[j] === "checked") {                        \n                    let isHighlighted =\n                     this.handleSearchableContentOfCell(cell, filterString, table.tableHeaderContext.isSencitiveSearch);\n\n                    if (isHighlighted === "true") {\n                        isHighlightedData = \'true\';\n                    };\n                }\n            }\n        }        \n        // set row visibile if the row has highlighted text\n        if (isHighlightedData === \'true\') {\n            rowList[i].style.display = "";\n        } else {\n            rowList[i].style.display = "none";\n        }\n    }\n}\t\n</code></pre></fieldset>\n<p>In this method we select all rows, then select all cells in rows and search the phrase \nin checked columns. After that we set \'visible\' to the rows which contain the cells with the phrase.\nSince we also highlight the phrase in the cell,\nwe will therefore continue to look at the search method in\nIssue:\n<a href="javascript:booklet.navigateRegularPages(\'get_highlightResult\', \'Highlight Search Results\');">\nHighlight Search Results.</a></p>\n'}